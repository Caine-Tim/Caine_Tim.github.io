<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Tim Caine Topic 1</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
        <header>
            <h1>JSON and AJAX</h1>
            <button id="button">Click for info</button>
        </header>
        
        <div id="info"></div>
        
        <script>
            var infoContainer = document.getElementById("info");
            var btn = document.getElementById("button");
            
            btn.addEventListener("click", function() {
                var ourRequest = new XMLHttpRequest();
                ourRequest.open("GET", "json_text.txt", true);
                ourRequest.onload = function() {
                    var ourData = JSON.parse(ourRequest.responseText);
                    renderHTML(ourData);
            };
                ourRequest.send();
            });
            
            function renderHTML(data) {
                var htmlString = "";
                
                for (i = 0; i < data.length; i++) {
                    htmlString += "<p>" + data[i].name + ".</p>";
                }
                
                infoContainer.insertAdjacentHTML('beforeend', htmlString);
            }
            
        </script>

    </body>
</html>